I"R
<h1 id="spherical-harmonics-and-soft-shadows">Spherical Harmonics and Soft Shadows</h1>

<h2 id="motivation">Motivation</h2>
<p>The rendering equation shows we need to solve the integral equation recursively to render a good image. But solve the integral equation is intractable. A straightforward solution is the Monte-carlo integration. But it still suffers from high computation cost and high variance. If we “relax” the quality a little bit, we can turn to find some approximation algorithms. “Good” basis will help us approximate the equation.</p>

<!-- ![](/images/SH/basis1.png)
![](/images/SH/basis2.png)
![](/images/SH/basis3.png) -->

<center> <img src="/images/SH/basis1.png" /> </center>
<center> <img src="/images/SH/basis2.png" /> </center>
<center> <img src="/images/SH/basis3.png" /> </center>

<center> 
The first image shows project the integral function into the basis. The second image shows use the projected coefficients to reconstruct the original function. The third image shows the reconstructed/approximated functions.(Credit: Robin Green) 
</center>

<p>By projecting the function into the basis, we just need to do a dot product to reconstruct the original function. Let’s recap the rendering equation again:</p>

\[L(x, \omega_o) = L_e(x, \omega_o) + \int_S f_r(x, \omega_i, \omega_o) L(x', \omega_i)G(x,x')V(x,x') d\omega_i\]

<p>Instead of solving the equation, there is a set of orthonormal basis that approximates the function extremly fast after some precomputation. This magic set of basis is called <strong>spherical harmonics (SH)</strong>.</p>

<h2 id="what-is-spherical-harmonicssh">What is Spherical Harmonics(SH)</h2>
<p>Spherical harmonics(SH) are functions defined on the (unit) sphere surface:</p>

\[f(\theta, \phi): R^2 \rightarrow R\]

<p>From a high level view, SH defines a set of orthonormal basis functions on the sphere surface. Due to the orthonormal property, it can be a potential tool for basis functions to solve some integrals, e.g. the rendering equations. The killing property of</p>

<p>To be specific:</p>

\[y_l^m(\theta, \phi) = 
\begin{cases}
      \sqrt{2}K_l^m cos(m\phi) P_l^m(cos\theta), m &gt; 0\\
      \sqrt{2}K_l^m sin(-m\phi) P_l^{-m}(cos\theta), m &lt; 0\\
      K_l^0 P_l^0 cos(\theta), m = 0\\
\end{cases}\]

\[K_l^m = \sqrt{\frac{(2l+1)}{4\pi} \frac{(l-|m|)!}{(l+|m|)!}}\]

\[l \in \mathbb{R}^+, -l \leq m \leq l\]

<p>Those functions seem to be a little scary for the first time. But</p>

<h2 id="soft-shadows">Soft Shadows</h2>
<p> 
 
 </p>

<h2 id="experiments">Experiments</h2>
<p> 
 
 </p>

<h2 id="conclusion">Conclusion</h2>
<p> 
 
 </p>
:ET